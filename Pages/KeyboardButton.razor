@using EICS.WordleBlazor.Game
@inject Game _game
<MudButton Variant="Variant.Filled"
           Class="@("key-button "+ GetCssStyle())"
           @onclick="OnClick">@Text</MudButton>

@code {
    [Parameter]
    public char Text { get; set; }

    [Parameter]
    public Action<MouseEventArgs> OnClick { get; set; } = null!;

    private string GetCssStyle() {
        if (!_game.Distribution.ContainsKey(Text)) return "black-gold-container";

        var matchResult = _game.Distribution[Text];
        return matchResult switch {
            MatchResult.NoneHit => "btn-none-hit",
            MatchResult.CharHit => "btn-char-hit",
            MatchResult.FullHit => "btn-full-hit",
            _ => string.Empty
        };
    }
}
